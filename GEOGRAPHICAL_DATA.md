# 地理边界数据说明

## 概述

地质灾害预警系统使用多种数据源来加载中国行政区划边界数据，以确保在不同网络环境下都能正常显示地理边界信息。

## 数据源策略

### 主要数据源

1. **开源行政区划数据**
   - GitHub: `modood/Administrative-divisions-of-China`
   - 包含完整的中国行政区划代码和名称
   - 数据格式：JSON
   - 更新频率：定期更新

2. **中国区域数据**
   - GitHub: `airyland/china-area-data`
   - 提供层级化的区域数据
   - 支持省市县三级数据

3. **ECharts 地图数据**
   - Apache ECharts 官方地图数据
   - 包含四川省详细地图数据
   - 格式：GeoJSON

4. **阿里云 DataV**
   - 作为备用数据源
   - 可能存在跨域限制
   - 数据质量较高但访问不稳定

### 备用机制

当所有外部数据源都无法访问时，系统会：

1. **显示友好提示**
   - 在地图上显示数据加载状态
   - 提供网络连接检查建议
   - 不影响其他功能的正常使用

2. **保持系统稳定**
   - 不会因为边界数据加载失败而崩溃
   - 监测点和其他功能正常工作
   - 用户可以继续使用核心功能

## 成都市区县数据

### 真实行政区划

成都市下辖20个区（市）县：

**市辖区（12个）**：
- 锦江区（510104）
- 青羊区（510105）
- 金牛区（510106）
- 武侯区（510107）
- 成华区（510108）
- 龙泉驿区（510112）
- 青白江区（510113）
- 新都区（510114）
- 温江区（510115）
- 双流区（510116）
- 郫都区（510117）
- 新津区（510118）

**县级市（4个）**：
- 都江堰市（510181）
- 彭州市（510182）
- 邛崃市（510183）
- 崇州市（510184）

**县（4个）**：
- 金堂县（510121）
- 大邑县（510129）
- 蒲江县（510131）
- 简阳市（510185）

### 数据获取方式

系统会尝试从以下来源获取真实的成都市区县边界数据：

1. **国家标准数据**
   - 基于国家统计局行政区划代码
   - 使用标准的 GeoJSON 格式
   - 包含准确的地理坐标

2. **开源地理数据**
   - 来自可信的开源项目
   - 定期更新维护
   - 符合国家标准

3. **备用显示方案**
   - 当无法获取详细边界时
   - 显示区县中心点位置
   - 提供基本的地理参考

## 技术实现

### 多数据源加载

```javascript
// 数据源优先级
const dataSources = [
    'https://source1.com/data.json',  // 主要数据源
    'https://source2.com/data.json',  // 备用数据源1
    'https://source3.com/data.json',  // 备用数据源2
    'fallback-data'                   // 本地备用数据
];
```

### 错误处理

- 自动重试机制
- 优雅降级
- 用户友好的错误提示
- 不影响核心功能

### 性能优化

- 按需加载
- 数据缓存
- 渐进式显示
- 内存管理

## 数据准确性

### 数据来源可信度

1. **官方数据** - 最高可信度
2. **开源社区维护** - 高可信度
3. **第三方服务** - 中等可信度
4. **简化数据** - 基本可信度

### 更新机制

- 定期检查数据源更新
- 自动获取最新边界数据
- 版本控制和回滚机制

## 使用建议

### 开发环境

- 使用本地数据源进行开发
- 测试多种网络环境
- 验证错误处理机制

### 生产环境

- 配置多个可靠的数据源
- 监控数据加载成功率
- 定期更新数据源列表

### 网络环境适配

- 支持内网环境
- 处理网络限制
- 提供离线备用方案

---

**注意**: 本系统使用的地理边界数据仅用于展示目的，具体的行政区划边界以国家相关部门发布的官方数据为准。
