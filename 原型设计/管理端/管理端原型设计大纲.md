# 管理端原型设计大纲

## 1. 管理端架构概览

### 1.1 用户角色与权限
| 用户角色 | 权限范围 | 主要功能 |
|---------|---------|---------|
| 系统管理员 | 全部权限 | 用户管理、系统配置、权限分配、数据管理 |
| 业务管理员 | 业务权限 | 隐患点管理、预警配置、设备管理、预案管理 |
| 运维管理员 | 运维权限 | 系统监控、设备监控、日志管理、备份恢复 |
| 数据管理员 | 数据权限 | 数据质量管理、数据源管理、数据字典维护 |

### 1.2 技术要求
- **最小分辨率**: 1366×768
- **推荐分辨率**: 1920×1080
- **浏览器支持**: Chrome 80+、Firefox 75+、Safari 13+、Edge 80+
- **网络要求**: 稳定的内网或VPN连接

### 1.3 设计原则
- **专业高效**: 面向专业管理人员，注重操作效率
- **权限清晰**: 不同角色看到不同的功能模块
- **数据安全**: 敏感操作需要二次确认
- **操作审计**: 重要操作留有完整的审计日志

## 2. 页面层级结构

```
管理端
├── 1. 系统管理 (/admin)
│   ├── 1.1 用户管理子页面 (/admin/users)
│   │   ├── 1.1.1 用户列表页面
│   │   ├── 1.1.2 用户详情页面
│   │   └── 1.1.3 用户编辑页面
│   ├── 1.2 角色权限子页面 (/admin/roles)
│   │   ├── 1.2.1 角色列表页面
│   │   ├── 1.2.2 权限配置页面
│   │   └── 1.2.3 权限矩阵页面
│   ├── 1.3 组织架构子页面 (/admin/organization)
│   └── 1.4 系统配置子页面 (/admin/config)
├── 2. 业务管理 (/business)
│   ├── 2.1 隐患点管理子页面 (/business/hazards)
│   │   ├── 2.1.1 隐患点列表页面
│   │   ├── 2.1.2 隐患点详情页面
│   │   ├── 2.1.3 风险评估页面
│   │   └── 2.1.4 治理状态页面
│   ├── 2.2 预警配置子页面 (/business/warning-config)
│   │   ├── 2.2.1 预警规则页面
│   │   ├── 2.2.2 预警模板页面
│   │   └── 2.2.3 发布渠道页面
│   ├── 2.3 设备管理子页面 (/business/devices)
│   └── 2.4 预案管理子页面 (/business/plans)
├── 3. 运维管理 (/ops)
│   ├── 3.1 系统监控子页面 (/ops/monitor)
│   ├── 3.2 设备监控子页面 (/ops/devices)
│   ├── 3.3 日志管理子页面 (/ops/logs)
│   └── 3.4 备份恢复子页面 (/ops/backup)
└── 4. 数据管理 (/data)
    ├── 4.1 数据质量子页面 (/data/quality)
    ├── 4.2 数据源管理子页面 (/data/sources)
    └── 4.3 数据字典子页面 (/data/dictionary)
```

## 3. 系统管理模块设计

### 3.1 用户管理子页面 (/admin/users)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：系统管理 > 用户管理                                  │
├─────────────────────────────────────────────────────────────┤
│ 操作工具栏                                                  │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │ 新增用户 │ │ 批量导入 │ │ 批量操作 │ │ 导出数据 │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
├─────────────────────────────────────────────────────────────┤
│ 筛选条件栏                                                  │
│ 用户名: [____] 角色: [____] 状态: [____] 部门: [____] [搜索] │
├─────────────────────────────────────────────────────────────┤
│ 用户列表表格                                                │
│ ┌──┬────────┬────────┬────────┬────────┬────────┬────────┐ │
│ │☐│ 用户名  │ 姓名   │ 角色   │ 部门   │ 状态   │ 操作   │ │
│ ├──┼────────┼────────┼────────┼────────┼────────┼────────┤ │
│ │☐│ admin  │ 管理员 │ 超管   │ 技术部 │ 正常   │ 编辑删除│ │
│ │☐│ user01 │ 张三   │ 操作员 │ 应急部 │ 正常   │ 编辑删除│ │
│ └──┴────────┴────────┴────────┴────────┴────────┴────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 分页控件：共100条 每页20条 [上一页] 1 2 3 4 5 [下一页]      │
└─────────────────────────────────────────────────────────────┘
```

**模块组成**：
- **工具栏模块 (Toolbar)**
  - 新增按钮 (AddButton)
  - 批量操作 (BatchActions)
  - 导入导出 (ImportExport)
  - 权限控制 (PermissionControl)

- **筛选模块 (FilterBar)**
  - 搜索框 (SearchInput)
  - 下拉筛选器 (DropdownFilter)
  - 日期筛选器 (DateFilter)
  - 重置按钮 (ResetButton)

- **表格模块 (DataTable)**
  - 表头排序 (SortableHeader)
  - 行选择器 (RowSelector)
  - 操作按钮 (ActionButtons)
  - 状态标识 (StatusBadge)

- **分页模块 (Pagination)**
  - 页码导航 (PageNavigation)
  - 页面大小选择 (PageSizeSelector)
  - 总数显示 (TotalCount)

**交互逻辑**：
1. **页面加载** → 获取用户列表 → 渲染表格数据
2. **筛选操作** → 构建查询条件 → 重新加载数据
3. **排序操作** → 更新排序参数 → 刷新表格
4. **批量选择** → 更新选中状态 → 启用批量操作
5. **新增用户** → 打开编辑弹窗 → 提交保存数据
6. **编辑用户** → 加载用户详情 → 更新用户信息
7. **删除确认** → 二次确认弹窗 → 执行删除操作

### 3.2 角色权限子页面 (/admin/roles)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：系统管理 > 角色权限                                  │
├─────────────────────────────────────────────────────────────┤
│ 左侧角色列表 │              右侧权限配置区域                │
│             │                                             │
│ ┌─────────┐ │ ┌─────────────────────────────────────────┐ │
│ │ 超级管理员│ │ │ 角色信息                              │ │
│ │ [选中]   │ │ │ 角色名称: [超级管理员]                │ │
│ └─────────┘ │ │ 角色描述: [系统最高权限]              │ │
│ ┌─────────┐ │ └─────────────────────────────────────────┘ │
│ │ 业务管理员│ │ ┌─────────────────────────────────────────┐ │
│ └─────────┘ │ │ 权限配置                              │ │
│ ┌─────────┐ │ │ ☑ 用户管理                            │ │
│ │ 运维管理员│ │ │   ☑ 用户查看  ☑ 用户编辑  ☑ 用户删除 │ │
│ └─────────┘ │ │ ☑ 系统配置                            │ │
│ ┌─────────┐ │ │   ☑ 配置查看  ☑ 配置修改            │ │
│ │ + 新增角色│ │ │ ☐ 数据管理                            │ │
│ └─────────┘ │ └─────────────────────────────────────────┘ │
│             │ ┌─────────────────────────────────────────┐ │
│             │ │ 操作按钮: [保存] [重置] [删除角色]      │ │
│             │ └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 3.3 系统配置子页面 (/admin/config)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：系统管理 > 系统配置                                  │
├─────────────────────────────────────────────────────────────┤
│ 配置分类标签：基础配置 | 安全配置 | 通知配置 | 接口配置      │
├─────────────────────────────────────────────────────────────┤
│ 基础配置表单                                                │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 系统名称: [地质灾害预警系统]                            │ │
│ │ 系统版本: [v1.0.0]                                      │ │
│ │ 部署环境: ○ 开发环境 ○ 测试环境 ● 生产环境              │ │
│ │ 数据保留: [30] 天                                       │ │
│ │ 会话超时: [30] 分钟                                     │ │
│ │ 文件大小: [10] MB                                       │ │
│ │ 并发用户: [1000] 人                                     │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 操作按钮：[保存配置] [重置] [导出配置] [导入配置]            │
└─────────────────────────────────────────────────────────────┘
```

## 4. 业务管理模块设计

### 4.1 隐患点管理子页面 (/business/hazards)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：业务管理 > 隐患点管理                                │
├─────────────────────────────────────────────────────────────┤
│ 左侧地图区域 │              右侧信息面板                    │
│             │                                             │
│ ┌─────────┐ │ ┌─────────────────────────────────────────┐ │
│ │         │ │ │ 隐患点信息                              │ │
│ │  🗺️地图  │ │ │ 编号: HD001                            │ │
│ │         │ │ │ 名称: XX村滑坡隐患点                    │ │
│ │  📍点位  │ │ │ 类型: 滑坡                             │ │
│ │         │ │ │ 等级: 中风险                           │ │
│ └─────────┘ │ │ 状态: 正常监测                         │ │
│             │ └─────────────────────────────────────────┘ │
│             │ ┌─────────────────────────────────────────┐ │
│             │ │ 监测设备 (3台)                         │ │
│             │ │ - 位移监测仪 [正常]                    │ │
│             │ │ - 雨量计 [正常]                        │ │
│             │ │ - 倾斜仪 [维护中]                      │ │
│             │ └─────────────────────────────────────────┘ │
│             │ ┌─────────────────────────────────────────┐ │
│             │ │ 操作按钮                               │ │
│             │ │ [编辑] [风险评估] [查看详情] [删除]     │ │
│             │ └─────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 预警配置子页面 (/business/warning-config)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：业务管理 > 预警配置                                  │
├─────────────────────────────────────────────────────────────┤
│ 配置类型标签：预警规则 | 预警模板 | 发布渠道                │
├─────────────────────────────────────────────────────────────┤
│ 预警规则配置                                                │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 规则名称: [降雨量预警规则]                              │ │
│ │ 适用类型: [滑坡] [泥石流] [崩塌]                        │ │
│ │ 触发条件:                                               │ │
│ │   小时降雨量 ≥ [20] mm  → 蓝色预警                     │ │
│ │   小时降雨量 ≥ [40] mm  → 黄色预警                     │ │
│ │   小时降雨量 ≥ [60] mm  → 橙色预警                     │ │
│ │   小时降雨量 ≥ [80] mm  → 红色预警                     │ │
│ │ 生效时间: [2024-01-01] 至 [2024-12-31]                 │ │
│ │ 适用区域: [全部区域] [指定区域]                         │ │
│ └─────────────────────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 操作按钮：[保存规则] [测试规则] [删除规则] [复制规则]        │
└─────────────────────────────────────────────────────────────┘
```

### 4.3 设备管理子页面 (/business/devices)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：业务管理 > 设备管理                                  │
├─────────────────────────────────────────────────────────────┤
│ 设备统计卡片                                                │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │ 总设备数 │ │ 在线设备 │ │ 离线设备 │ │ 故障设备 │           │
│ │  156台  │ │  142台  │ │   8台   │ │   6台   │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
├─────────────────────────────────────────────────────────────┤
│ 设备列表表格                                                │
│ ┌──┬────────┬────────┬────────┬────────┬────────┬────────┐ │
│ │☐│ 设备编号│ 设备名称│ 设备类型│ 安装位置│ 状态   │ 操作   │ │
│ ├──┼────────┼────────┼────────┼────────┼────────┼────────┤ │
│ │☐│ DEV001 │位移监测仪│ 位移   │ XX隐患点│ 正常   │ 查看编辑│ │
│ │☐│ DEV002 │雨量计   │ 降雨   │ XX监测站│ 离线   │ 查看编辑│ │
│ │☐│ DEV003 │倾斜仪   │ 倾斜   │ XX边坡  │ 故障   │ 查看编辑│ │
│ └──┴────────┴────────┴────────┴────────┴────────┴────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 操作栏：[新增设备] [批量导入] [导出数据] [设备巡检]          │
└─────────────────────────────────────────────────────────────┘
```

## 5. 运维管理模块设计

### 5.1 系统监控子页面 (/ops/monitor)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：运维管理 > 系统监控                                  │
├─────────────────────────────────────────────────────────────┤
│ 系统状态概览                                                │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │ CPU使用率│ │ 内存使用率│ │ 磁盘使用率│ │ 网络流量 │           │
│ │  45.2%  │ │  67.8%  │ │  23.4%  │ │ 125MB/s │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
├─────────────────────────────────────────────────────────────┤
│ 服务状态监控                                                │
│ ┌──┬────────────┬────────┬────────┬────────┬────────────┐ │
│ │●│ 服务名称    │ 状态   │ CPU    │ 内存   │ 最后检查   │ │
│ ├──┼────────────┼────────┼────────┼────────┼────────────┤ │
│ │🟢│ Web服务     │ 运行中 │ 12.3%  │ 256MB  │ 1分钟前    │ │
│ │🟢│ 数据库服务  │ 运行中 │ 23.1%  │ 512MB  │ 1分钟前    │ │
│ │🔴│ 消息队列    │ 异常   │ 0%     │ 0MB    │ 5分钟前    │ │
│ └──┴────────────┴────────┴────────┴────────┴────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 实时监控图表                                                │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │                    系统性能趋势图                        │ │
│ │                                                         │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

### 5.2 日志管理子页面 (/ops/logs)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：运维管理 > 日志管理                                  │
├─────────────────────────────────────────────────────────────┤
│ 日志筛选条件                                                │
│ 时间: [____] 级别: [____] 模块: [____] 关键词: [____] [搜索]│
├─────────────────────────────────────────────────────────────┤
│ 日志列表                                                    │
│ ┌──┬────────────┬────────┬────────┬──────────────────────┐ │
│ │级别│ 时间        │ 模块   │ 用户   │ 日志内容             │ │
│ ├──┼────────────┼────────┼────────┼──────────────────────┤ │
│ │🔴│ 14:30:25   │ 登录   │ admin  │ 用户登录成功         │ │
│ │🟡│ 14:28:15   │ 预警   │ user01 │ 发布橙色预警         │ │
│ │🔴│ 14:25:10   │ 系统   │ system │ 数据库连接异常       │ │
│ └──┴────────────┴────────┴────────┴──────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 操作栏：[导出日志] [清理日志] [日志分析] [实时监控]          │
└─────────────────────────────────────────────────────────────┘
```

## 6. 数据管理模块设计

### 6.1 数据质量子页面 (/data/quality)
**页面布局**：
```
┌─────────────────────────────────────────────────────────────┐
│ 面包屑：数据管理 > 数据质量                                  │
├─────────────────────────────────────────────────────────────┤
│ 数据质量概览                                                │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │ 数据完整性│ │ 数据准确性│ │ 数据及时性│ │ 数据一致性│           │
│ │  95.2%  │ │  98.7%  │ │  92.1%  │ │  96.8%  │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
├─────────────────────────────────────────────────────────────┤
│ 质量问题列表                                                │
│ ┌──┬────────────┬────────┬────────┬──────────────────────┐ │
│ │级别│ 发现时间    │ 数据源 │ 问题类型│ 问题描述             │ │
│ ├──┼────────────┼────────┼────────┼──────────────────────┤ │
│ │🔴│ 14:30:25   │ DEV001 │ 缺失   │ 连续3小时无数据      │ │
│ │🟡│ 14:28:15   │ DEV002 │ 异常   │ 数值超出正常范围     │ │
│ │🟢│ 14:25:10   │ DEV003 │ 延迟   │ 数据延迟5分钟上报    │ │
│ └──┴────────────┴────────┴────────┴──────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│ 操作栏：[质量检查] [数据修复] [质量报告] [规则配置]          │
└─────────────────────────────────────────────────────────────┘
```

## 7. 权限控制设计

### 7.1 菜单权限控制
- 根据用户角色显示对应菜单
- 无权限的菜单项不显示
- 权限变更后实时更新菜单
- 支持菜单项的细粒度权限控制

### 7.2 操作权限控制
- 按钮级别的权限控制
- 数据行级别的权限控制
- 字段级别的权限控制
- 操作审计和日志记录

### 7.3 数据权限控制
- 部门数据隔离
- 区域数据权限
- 敏感数据脱敏
- 数据访问审计

## 8. 安全设计

### 8.1 身份认证
- 强密码策略
- 多因素认证
- 会话管理
- 单点登录支持

### 8.2 操作安全
- 重要操作二次确认
- 操作日志记录
- 异常行为监控
- 自动锁定机制

### 8.3 数据安全
- 数据加密存储
- 传输加密
- 备份加密
- 数据销毁策略